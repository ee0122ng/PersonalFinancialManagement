<div class="container">

    <div class="container-title">
        <h1>Recurrence Transaction Details</h1>
    </div>

    <div class="container-error" *ngIf="!!errorMessage">
        <code style="color:red" class="error">{{ errorMessage }}</code>
    </div>

    <div class="container-recurrence">
        <mat-card appearance="outlined">
            <form [formGroup]="eventForm">
                <table style="text-align: center;">
                    <tr>
                        <td colspan="3">
                            <h4> Type </h4>
                        </td>
                    </tr>

                    <tr>
                        <td></td>
                        <td>
                            <mat-form-field color="primary">
                                <mat-label>Frequency</mat-label>
                                <mat-select name="" id="frequency" formControlName="frequency">
                                    <mat-option *ngFor="let t of TYPE" [value]="t">{{ t }}</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </td>
                        <td></td>
                    </tr>
                    <tr *ngIf="eventForm.get('frequency')?.invalid">
                        <td colspan="3">
                            <code style="color:red" class="error">Frequency is required</code>
                        </td>
                    </tr>

                    <tr>
                        <td colspan="3">
                            <h4> Count </h4>
                        </td>
                    </tr>

                    <tr>
                        <td></td>
                        <td>
                            <mat-form-field color="primary">
                                <mat-label>Recurrence Count</mat-label>
                                <input matInput type="number" formControlName="count">
                            </mat-form-field>
                        </td>
                        <td></td>
                    </tr>
                    <tr *ngIf="eventForm.get('count')?.invalid">
                        <td colspan="3">
                            <code style="color:red" class="error">Minimum number is 2</code>
                        </td>
                    </tr>

                    <tr>
                        <td colspan="3">
                            <h4> Summary </h4>
                        </td>
                    </tr>

                    <tr>
                        <td></td>
                        <td>
                            <mat-form-field color="primary">
                                <mat-label>Event Summary</mat-label>
                                <input matInput type="text" formControlName="summary">
                            </mat-form-field>
                        </td>
                        <td></td>
                    </tr>
                    <tr *ngIf="eventForm.get('summary')?.invalid && eventForm.get('summary')?.dirty">
                        <td colspan="3">
                            <code style="color:red" class="error">Summary is required</code>
                        </td>
                    </tr>

                    <tr>
                        <td colspan="3">
                            <h4> Description </h4>
                        </td>
                    </tr>

                    <tr>
                        <td></td>
                        <td>
                            <mat-form-field color="primary">
                                <mat-label>Event Description</mat-label>
                                <input matInput type="text" formControlName="description">
                            </mat-form-field>
                        </td>
                        <td></td>
                    </tr>

                    <tr>
                        <td colspan="3">
                            <h4> Notification to </h4>
                        </td>
                    </tr>

                    <tr>
                        <td></td>
                        <td>
                            <mat-form-field color="primary">
                                <mat-label>Email Address</mat-label>
                                <input matInput type="email" formControlName="email">
                            </mat-form-field>
                        </td>
                        <td></td>
                    </tr>
                    <tr *ngIf="eventForm.get('email')?.invalid">
                        <td colspan="3">
                            <code style="color:red" class="error">Invalid email address</code>
                        </td>
                    </tr>

                    <tr>
                        <td></td>
                        <td>
                            <button mat-raised-button color="primary" (click)="addNew()">Notify</button>
                            &nbsp;
                            <button mat-raised-button (click)="back()" class="button-back">Back</button>
                        </td>
                        <td></td>
                    </tr>
        
                </table>
            </form>
        </mat-card>
    </div>
</div>
